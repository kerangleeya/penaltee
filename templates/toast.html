{% load static %}
<div 
    class="fixed bottom-8 right-8 p-4 px-8 rounded-xl shadow-xl z-50 opacity-0 transition-all duration-300 translate-y-64 flex items-center gap-4"
    id="toast-component"
>
    <span id="toast-icon" class="text-2xl"></span>
    <div>
        <h3 class="font-bold" id="toast-title">
            This is a Sample Title
        </h3>
        <p class="text-gray-700 text-sm line-clamp-3" id="toast-message">
            This is a Sample Message
        </p>
    </div>
</div>
<script src="{% static 'js/toast.js' %}">
    let toastTimeout;

    function showToast(title, message, type = "info") {
    const toast = document.getElementById("toast-component");
    const toastTitle = document.getElementById("toast-title");
    const toastMessage = document.getElementById("toast-message");

    if (!toast) return console.error("Toast component not found in DOM.");

    // Cancel any running animation timeout
    if (toastTimeout) clearTimeout(toastTimeout);

    // Set message and styling
    toastTitle.textContent = title || "Notification";
    toastMessage.textContent = message || "";

    // Reset classes
    toast.className =
        "fixed bottom-8 right-8 px-6 py-4 rounded-xl shadow-2xl border-2 z-50 max-w-sm w-fit transition-all duration-500 ease-out";

    // Base colors
    let bgColor = "bg-white";
    let borderColor = "border-gray-300";
    let textColor = "text-gray-900";

    switch (type) {
        case "success":
        bgColor = "bg-green-50";
        borderColor = "border-green-500";
        textColor = "text-green-800";
        break;
        case "error":
        bgColor = "bg-red-50";
        borderColor = "border-red-500";
        textColor = "text-red-800";
        break;
        case "warning":
        bgColor = "bg-yellow-50";
        borderColor = "border-yellow-500";
        textColor = "text-yellow-800";
        break;
        case "info":
        bgColor = "bg-blue-50";
        borderColor = "border-blue-500";
        textColor = "text-blue-800";
        break;
    }

    toast.classList.add(bgColor, borderColor, textColor);

    // Show toast (fade-in)
    toast.classList.remove("opacity-0", "translate-y-8", "pointer-events-none");
    toast.classList.add("opacity-100", "translate-y-0");

    // Auto hide after 3 seconds
    toastTimeout = setTimeout(() => {
        hideToast();
    }, 3000);
    }

    function hideToast() {
    const toast = document.getElementById("toast-component");
    if (!toast) return;
    toast.classList.remove("opacity-100", "translate-y-0");
    toast.classList.add("opacity-0", "translate-y-8", "pointer-events-none");
    }

    window.showToast = showToast;
    window.hideToast = hideToast;

</script>